\usepackage{keyval}


\makeatletter
\newcommand\defcomponent[2]{%
  \define@key{state}{#1}{\@nameuse{setmyval@#1}{##1}}%
  \@namedef{setmyval@#1}##1{\@namedef{myval@#1}{##1}}%
  \@nameuse{setmyval@#1}{\ensuremath{#2}}%
}

\newcommand\component[1]{\@nameuse{myval@#1}}

\makeatother


\newcommand\context{\mathcal{T}}

\defcomponent{env}{\rho}
\defcomponent{context}{\context}
\defcomponent{term}{g}
\defcomponent{result}{\vartheta}

\newcommand\emptycontext{\varepsilon}
\newcommand\emptyenv{\mathord{\{\,\}}}

\newcommand\vmrun[1][]{%  run V-minus code
  {\setkeys{state}{#1}%
   \let\c=\component
   \ensuremath{\c{env}; \c{context} \vdash \c{term} \Downarrow \c{result}}}}

\defcomponent{vterm}{e}
\defcomponent{vresult}{e'}
\newcommand\vrun[1][]{% run Verse code
  {\setkeys{state}{#1}%
   \let\c=\component
   \ensuremath{\c{vterm} \mathrel{\rightarrow^*} \c{vresult}}}}

\newcommand\translation[2][]{\ensuremath{#1[\![#2]\!]}}


